const CACHE_NAME="birdie-bounce-cache-v1",urlsToCache=["/","soundeffects/bump.wav","soundeffects/fall.wav","soundeffects/wingsFlap.wav","sprite/bird.png","sprite/birdfly.png","sprite/clouds.png","index.html","index.js"];self.addEventListener("install",function(e){e.waitUntil(caches.open(CACHE_NAME).then(function(e){return Promise.all(urlsToCache.map(function(t){return fetch(t).then(function(n){return e.put(t,n)}).catch(function(){console.error("Failed to cache "+t)})}))}))}),self.addEventListener("fetch",function(e){if("GET"===e.request.method&&"navigate"===e.request.mode)e.respondWith(caches.match("index.html").then(function(t){return fetch(e.request).then(function(n){caches.open(CACHE_NAME).then(function(e){e.put(e.request,n.clone())}),t&&t.put(e.request,n.clone());return n}).catch(function(){return t||caches.match("offline.html")})}));else{e.respondWith(caches.match(e.request).then(function(t){return t||fetch(e.request).then(function(n){return caches.open(CACHE_NAME).then(function(e){e.put(e.request,n.clone())}),n}).catch(function(){return caches.match(e.request).then(function(t){return t||caches.match("offline.html")})})}))}}),self.addEventListener("activate",function(e){e.waitUntil(caches.keys().then(function(e){return Promise.all(e.map(function(t){return t!==CACHE_NAME&&caches.delete(t)}))}))});
